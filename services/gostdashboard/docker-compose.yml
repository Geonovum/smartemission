version: '3.1'

services:
  gost:
    image: smartemission/gost-dashboard:latest

    container_name: gostdashboard

    labels:
      - "traefik.backend=gostdashboard"
      - "traefik.enable=true"
      - "traefik.frontend.priority=500"
      - "traefik.frontend.rule=HostRegexp:{subdomain:[a-z]+}.smartemission.nl;PathPrefixStrip:/gostdashboard"
      - "traefik.docker.network=se_front"

    expose:
     - "8080"

    networks:
      - se_front
      - se_back

networks:
  se_front:
    external: true
  se_back:
    external: true
